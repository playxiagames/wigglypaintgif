@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply font-en;
  }
  
  [lang="zh"] {
    @apply font-zh;
  }
  
  [lang="ja"] {
    @apply font-ja;
  }
  
  [lang="ko"] {
    @apply font-ko;
  }
}

@layer utilities {
  /* 强制 iframe 自适应容器 */
  .iframe-responsive {
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    border: none !important;
  }
  
  /* 尝试影响 iframe 内容的样式 - 排除 ToolEmbed */
  iframe:not(.tool-embed-iframe) {
    width: 100% !important;
    height: 100% !important;
    max-width: none !important;
    min-width: 100% !important;
  }

  /* iframe 绝对定位填充容器 */
  .tool-embed-iframe {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    border: none !important;
    /* 隐藏滚动条 */
    scrollbar-width: none;
    -ms-overflow-style: none;
    display: block !important;
  }
  
  /* 响应式iframe容器 - 使用padding-bottom技术 */
  .tool-embed-container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 66.8%; /* 342/512 = 0.668 维持WigglyPaint的宽高比 */
    overflow: hidden;
  }
  
  /* 在小屏幕设备上可以调整宽高比 */
  @media (max-width: 767px) {
    .tool-embed-container {
      padding-bottom: 75%; /* 在小屏幕上略微调整比例 */
    }
  }
  
  /* 在超大屏幕上限制最大宽度 */
  @media (min-width: 1200px) {
    .tool-embed-container {
      max-width: 1000px;
      margin: 0 auto;
    }
  }
  
  .tool-embed-iframe::-webkit-scrollbar {
    display: none;
  }
  
  /* 响应式容器 - 使用现代的容器查询方法 */
  .tool-embed-container {
    width: 100%;
    height: clamp(400px, 60vh, 700px);
    max-width: 100%;
    position: relative;
  }
  
  /* 在小屏幕设备上优化高度 */
  @media (max-width: 767px) {
    .tool-embed-container {
      height: clamp(350px, 50vh, 500px);
    }
  }
  
  /* 在超大屏幕上提供更好的体验 */
  @media (min-width: 1200px) {
    .tool-embed-container {
      height: clamp(500px, 65vh, 800px);
      max-width: 1200px;
      margin: 0 auto;
    }
  }
}