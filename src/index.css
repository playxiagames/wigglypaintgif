@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply font-en;
  }
  
  [lang="zh"] {
    @apply font-zh;
  }
  
  [lang="ja"] {
    @apply font-ja;
  }
  
  [lang="ko"] {
    @apply font-ko;
  }
}

@layer utilities {
  /* 强制 iframe 自适应容器 */
  .iframe-responsive {
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    border: none !important;
  }
  
  /* 尝试影响 iframe 内容的样式 - 排除 ToolEmbed */
  iframe:not(.tool-embed-iframe) {
    width: 100% !important;
    height: 100% !important;
    max-width: none !important;
    min-width: 100% !important;
  }

  /* iframe 智能自适应容器 - 基于 scale 变换 */
  .tool-embed-container {
    width: 100%;
    position: relative;
    overflow: hidden;
    border-radius: 8px;
    /* 设置固定的宽高比和最小尺寸 */
    aspect-ratio: 16 / 10;
    min-height: 400px;
    max-width: 1200px;
    margin: 0 auto;
  }

  /* iframe 缩放包装器 */
  .tool-embed-iframe-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    width: 1200px; /* iframe 的基准宽度 */
    height: 750px; /* iframe 的基准高度 */
    transform-origin: top left;
    transition: transform 0.3s ease;
  }

  /* iframe 本身的样式 */
  .tool-embed-iframe {
    width: 100% !important;
    height: 100% !important;
    border: none !important;
    display: block !important;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .tool-embed-iframe::-webkit-scrollbar {
    display: none;
  }

  /* 响应式容器调整 */
  @media (max-width: 768px) {
    .tool-embed-container {
      min-height: 280px;
      aspect-ratio: 16 / 10;
    }
  }

  @media (max-width: 480px) {
    .tool-embed-container {
      min-height: 210px;
      aspect-ratio: 16 / 10;
    }
  }

  /* 全屏状态下的样式 */
  .tool-embed-container.fullscreen {
    aspect-ratio: unset;
    min-height: 100vh;
    max-width: 100vw;
    border-radius: 0;
  }

  .tool-embed-container.fullscreen .tool-embed-iframe-wrapper {
    width: 100vw;
    height: 100vh;
    transform: none;
  }
}